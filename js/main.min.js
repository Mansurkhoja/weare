"use strict";function consultClose(e){e.preventDefault(),btnConsult.removeClass("disabled"),$(".consult").removeClass("active"),$(".header__inner").removeClass("consult-active")}function validateRegex(e,i){var o=e.val();i.test(o)?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))}$(window).on("load",(function(){setInterval((function(){$(".loader").remove(),$(".main__inner").addClass("active")}),4700)})),svg4everybody(),$(document).ready((function(){$(".header__lang-item").on("click",(function(){$(this).hasClass("active")||($(".header__lang-item").removeClass("active"),$(this).addClass("active"))})),$(".navbar__link").on("click",(function(){menuBtn.removeClass("active"),$(".menu").removeClass("active"),$(".header__inner").removeClass("active")})),$(".tecnology__arrow").click((function(){$(this).hasClass("disable")||($(".tecnology__arrow").removeClass("disable"),$(this).addClass("disable"),$(".technology__item").toggleClass("hide"))})),menuBtn.on("click",(function(){menuBtn.toggleClass("active"),$(".menu").toggleClass("active"),$(".header__inner").toggleClass("active"),btnConsult.removeClass("disabled"),$(".consult").removeClass("active"),$(".header__inner").removeClass("consult-active")})),goBtnDown.on("click",(function(){indexFullpage.moveSectionDown()})),goBtnTop.on("click",(function(){indexFullpage.moveTo(1)})),btnConsult.click((function(){btnConsult.addClass("disabled"),$(".consult").addClass("active"),$(".header__inner").addClass("consult-active"),menuBtn.removeClass("active"),$(".menu").removeClass("active"),$(".header__inner").removeClass("active")})),$(".consult__close .btn--go-back").click(consultClose),$(".btn-consult-close").click(consultClose),nameInput.blur((function(){""==!$(this).val()?($(this).removeClass("invalid"),$(this).addClass("valid")):($(this).removeClass("valid"),$(this).addClass("invalid"))})),emailInput.blur((function(){validateRegex($(this),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)})),telInput.blur((function(){validateRegex($(this),/^(\+{0,})(\d{0,})([(]{1}\d{1,3}[)]{0,}){0,}(\s?\d+|\+\d{2,3}\s{1}\d+|\d+){1}[\s|-]?\d+([\s|-]?\d+){1,2}(\s){0,}$/gm)})),$(".video-opener").click((function(e){e.preventDefault(),$(".video-popup").fadeToggle()})),$(".video-popup-close").click((function(){$(".video-popup").fadeToggle()})),zoomImgOpen.click((function(){var e=$(this).find("img").attr("src");zoomImg.css("background-image","url("+e+")"),zoomImg.fadeIn()})),zoomImg.click((function(){zoomImg.fadeOut()})),blogBtns.click((function(){blogBtns.removeClass("active"),$(this).addClass("active");var e=$(this).data("blog");"all"==e?(blogCategories.show(),blogSwiper.update()):blogCategories.each((function(){$(this).data("blogcat")!=e?($(this).hide(),blogSwiper.update()):($(this).show(),blogSwiper.update())}))})),$(".service-solve__question").click((function(){$(window).width()>1200?($(".service-solve__item").removeClass("active"),$(this).parent().addClass("active")):$(this).parent().toggleClass("active")}))}));var emailInput=$(".email"),nameInput=$(".name"),telInput=$(".tel"),menuBtn=$(".header__menu"),goBtnDown=$(".go-btn-down"),goBtnTop=$(".go-btn-top"),btnConsult=$(".btn--consult"),zoomImg=$(".zoom-img"),zoomImgOpen=$(".zoom-img-open"),blogBtns=$("[data-blog]"),blogCategories=$("[data-blogcat]");if(document.querySelector(".portfolio-swiper"))var portfolioSwiper=new Swiper(".portfolio-swiper",{resizeObserver:!0,parallax:!0,navigation:{nextEl:".slide-arrow-next",prevEl:".slide-arrow-prev"},pagination:{el:".counter-slide",type:"custom",renderCustom:function(e,i,o){return'<div class="counter-active-slide">'+("0"+i).slice(-2)+'</div><div class="counter-total-slide">/'+("0"+o).slice(-2)+"</div>"}}});if(document.querySelector(".certificates-swiper"))var certificatesSwiper=new Swiper(".certificates-swiper",{resizeObserver:!0,preloadImages:!1,lazy:!0,observeParents:!0,observeSlideChildren:!0,observer:!0,slidesPerView:"auto",spaceBetween:10,centeredSlides:!0,breakpoints:{767:{slidesPerView:2,spaceBetween:30},1e3:{slidesPerView:3,spaceBetween:40}},navigation:{nextEl:".slide-arrow-next",prevEl:".slide-arrow-prev"},pagination:{el:".counter-slide",type:"custom",renderCustom:function(e,i,o){return'<div class="counter-active-slide">'+("0"+i).slice(-2)+'</div><div class="counter-total-slide">/'+("0"+o).slice(-2)+"</div>"}}});if(document.querySelector(".team-swiper"))var teamSwiper=new Swiper(".team-swiper",{resizeObserver:!0,spaceBetween:50,slidesPerView:"auto",centeredSlides:!0,loop:!0,navigation:{nextEl:".slide-arrow-next",prevEl:".slide-arrow-prev"},pagination:{el:".counter-slide",type:"custom",renderCustom:function(e,i,o){return'<div class="counter-active-slide">'+("0"+i).slice(-2)+'</div><div class="counter-total-slide">/'+("0"+o).slice(-2)+"</div>"}}});if(document.querySelector(".reviews-swiper"))var reviewsSwiper=new Swiper(".reviews-swiper",{slidesPerView:1,loop:!0,breakpoints:{767:{slidesPerView:1},1200:{slidesPerView:"auto"}},navigation:{nextEl:".slide-arrow-next",prevEl:".slide-arrow-prev"},pagination:{el:".counter-slide",type:"custom",renderCustom:function(e,i,o){return'<div class="counter-active-slide">'+("0"+i).slice(-2)+'</div><div class="counter-total-slide">/'+("0"+o).slice(-2)+"</div>"}}});if(document.querySelector(".blog-swiper"))var blogSwiper=new Swiper(".blog-swiper",{resizeObserver:!0,slidesPerView:1,slidesPerColumn:3,slidesPerGroup:1,slidesPerColumnFill:"row",observer:!0,observeParents:!0,observeSlideChildren:!0,slidesPerGroupSkip:1,breakpoints:{767:{slidesPerView:2,slidesPerColumnFill:"column",slidesPerColumn:1},1200:{slidesPerView:3.5,slidesPerColumnFill:"column",slidesPerColumn:1}},navigation:{nextEl:".slide-arrow-next",prevEl:".slide-arrow-prev"},pagination:{el:".counter-slide",type:"custom",renderCustom:function(e,i,o){return'<div class="counter-active-slide">'+("0"+i).slice(-2)+'</div><div class="counter-total-slide">/'+("0"+o).slice(-2)+"</div>"}}});if(document.querySelector(".blog__category"))var blogBtnSwiper=new Swiper(".blog__category",{resizeObserver:!0,slidesPerView:"auto",spaceBetween:8,breakpoints:{767:{spaceBetween:16}}});if(document.querySelector("#sections"))var indexFullpage=new fullpage("#sections",{licenseKey:"F8E9771B-CF224720-A8C858C5-DE2106A1",menu:"#asideNav, .navbar__list",lockAnchors:!1,anchors:["main","technology","services","portfolio","about","certificates","team","reviews","blog","contacts"],navigation:!1,navigationPosition:"right",navigationTooltips:["main","technology","services","portfolio","about","certificates","team","reviews","blog","contacts"],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,scrollBar:!1,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:".unscroll, .form-label",scrollOverflow:!0,scrollOverflowReset:!0,scrollOverflowOptions:{click:!0},touchSensitivity:15,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!1,verticalCentered:!0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},dropEffect:!1,dropEffectOptions:{speed:2300,color:"#F82F4D",zIndex:9990},cards:!1,cardsOptions:{perspective:100,fadeContent:!0,fadeBackground:!0},sectionSelector:".section",slideSelector:".slide",lazyLoading:!0,onLeave:function(e,i,o){i.isLast?(goBtnDown.hide(),goBtnTop.addClass("active")):(goBtnDown.show(),goBtnTop.removeClass("active"))},afterLoad:function(e,i,o){},afterRender:function(){},afterResize:function(e,i){},afterReBuild:function(){},afterResponsive:function(e){},afterSlideLoad:function(e,i,o,t){},onSlideLeave:function(e,i,o,t){}});if(document.querySelector(".full-inner-page")){var serviceSwiper,breakpoint=window.matchMedia("(max-width:767px)"),breakpointChecker=function(){if(!0!==breakpoint.matches)return!1===breakpoint.matches?enableSwiper():void 0;void 0!==serviceSwiper&&serviceSwiper.destroy(!0,!0)},enableSwiper=function(){serviceSwiper=new Swiper(".service-container",{slidesPerView:1,a11y:!0,simulateTouch:!1,resizeObserver:!0,nested:!0,mousewheel:{releaseOnEdges:!0},navigation:{nextEl:".swiper-slide__arrow-next",prevEl:".swiper-slide__arrow-prev"}})};breakpoint.addListener(breakpointChecker),breakpointChecker(),$(".go-next").click((function(){serviceSwiper.slideNext()})),$(window).width()>=767&&($(".portfolio-gallery__container").on("mouseenter",(function(){serviceSwiper.mousewheel.disable()})),$(".portfolio-gallery__container").on("mouseleave",(function(){serviceSwiper.mousewheel.enable()})))}if(document.querySelector(".service-advantage-mob"))var serviceAdvantageSwiper=new Swiper(".service-advantage-mob",{resizeObserver:!0,slidesPerView:2,spaceBetween:13,navigation:{nextEl:".slide-arrow-next",prevEl:".slide-arrow-prev"},pagination:{el:".counter-slide",type:"custom",renderCustom:function(e,i,o){return'<div class="counter-active-slide">'+("0"+i).slice(-2)+'</div><div class="counter-total-slide">/'+("0"+o).slice(-2)+"</div>"}}});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(vh,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY29uc3VsdENsb3NlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYnRuQ29uc3VsdCIsInJlbW92ZUNsYXNzIiwiJCIsInZhbGlkYXRlUmVnZXgiLCJlbCIsInJlZ2V4IiwidmFsdWUiLCJ2YWwiLCJ0ZXN0IiwiYWRkQ2xhc3MiLCJ3aW5kb3ciLCJvbiIsInNldEludGVydmFsIiwicmVtb3ZlIiwic3ZnNGV2ZXJ5Ym9keSIsImRvY3VtZW50IiwicmVhZHkiLCJ0aGlzIiwiaGFzQ2xhc3MiLCJtZW51QnRuIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsImdvQnRuRG93biIsImluZGV4RnVsbHBhZ2UiLCJtb3ZlU2VjdGlvbkRvd24iLCJnb0J0blRvcCIsIm1vdmVUbyIsIm5hbWVJbnB1dCIsImJsdXIiLCJlbWFpbElucHV0IiwidGVsSW5wdXQiLCJmYWRlVG9nZ2xlIiwiem9vbUltZ09wZW4iLCJjZXJ0aWZpY2F0ZUltZyIsImZpbmQiLCJhdHRyIiwiem9vbUltZyIsImNzcyIsImZhZGVJbiIsImZhZGVPdXQiLCJibG9nQnRucyIsImJsb2dCdG4iLCJkYXRhIiwiYmxvZ0NhdGVnb3JpZXMiLCJzaG93IiwiYmxvZ1N3aXBlciIsInVwZGF0ZSIsImVhY2giLCJoaWRlIiwid2lkdGgiLCJwYXJlbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9ydGZvbGlvU3dpcGVyIiwiU3dpcGVyIiwicmVzaXplT2JzZXJ2ZXIiLCJwYXJhbGxheCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJwYWdpbmF0aW9uIiwidHlwZSIsInJlbmRlckN1c3RvbSIsInN3aXBlciIsImN1cnJlbnQiLCJ0b3RhbCIsInNsaWNlIiwiY2VydGlmaWNhdGVzU3dpcGVyIiwicHJlbG9hZEltYWdlcyIsImxhenkiLCJvYnNlcnZlUGFyZW50cyIsIm9ic2VydmVTbGlkZUNoaWxkcmVuIiwib2JzZXJ2ZXIiLCJzbGlkZXNQZXJWaWV3Iiwic3BhY2VCZXR3ZWVuIiwiY2VudGVyZWRTbGlkZXMiLCJicmVha3BvaW50cyIsIjc2NyIsIjEwMDAiLCJ0ZWFtU3dpcGVyIiwibG9vcCIsInJldmlld3NTd2lwZXIiLCIxMjAwIiwic2xpZGVzUGVyQ29sdW1uIiwic2xpZGVzUGVyR3JvdXAiLCJzbGlkZXNQZXJDb2x1bW5GaWxsIiwic2xpZGVzUGVyR3JvdXBTa2lwIiwiYmxvZ0J0blN3aXBlciIsImZ1bGxwYWdlIiwibGljZW5zZUtleSIsIm1lbnUiLCJsb2NrQW5jaG9ycyIsImFuY2hvcnMiLCJuYXZpZ2F0aW9uUG9zaXRpb24iLCJuYXZpZ2F0aW9uVG9vbHRpcHMiLCJzaG93QWN0aXZlVG9vbHRpcCIsInNsaWRlc05hdmlnYXRpb24iLCJzbGlkZXNOYXZQb3NpdGlvbiIsImNzczMiLCJzY3JvbGxpbmdTcGVlZCIsImF1dG9TY3JvbGxpbmciLCJmaXRUb1NlY3Rpb24iLCJmaXRUb1NlY3Rpb25EZWxheSIsInNjcm9sbEJhciIsImVhc2luZyIsImVhc2luZ2NzczMiLCJsb29wQm90dG9tIiwibG9vcFRvcCIsImxvb3BIb3Jpem9udGFsIiwiY29udGludW91c1ZlcnRpY2FsIiwiY29udGludW91c0hvcml6b250YWwiLCJzY3JvbGxIb3Jpem9udGFsbHkiLCJpbnRlcmxvY2tlZFNsaWRlcyIsImRyYWdBbmRNb3ZlIiwib2Zmc2V0U2VjdGlvbnMiLCJyZXNldFNsaWRlcnMiLCJmYWRpbmdFZmZlY3QiLCJub3JtYWxTY3JvbGxFbGVtZW50cyIsInNjcm9sbE92ZXJmbG93Iiwic2Nyb2xsT3ZlcmZsb3dSZXNldCIsInNjcm9sbE92ZXJmbG93T3B0aW9ucyIsInRvdWNoU2Vuc2l0aXZpdHkiLCJiaWdTZWN0aW9uc0Rlc3RpbmF0aW9uIiwia2V5Ym9hcmRTY3JvbGxpbmciLCJhbmltYXRlQW5jaG9yIiwicmVjb3JkSGlzdG9yeSIsImNvbnRyb2xBcnJvd3MiLCJ2ZXJ0aWNhbENlbnRlcmVkIiwicmVzcG9uc2l2ZVdpZHRoIiwicmVzcG9uc2l2ZUhlaWdodCIsInJlc3BvbnNpdmVTbGlkZXMiLCJwYXJhbGxheE9wdGlvbnMiLCJwZXJjZW50YWdlIiwicHJvcGVydHkiLCJkcm9wRWZmZWN0IiwiZHJvcEVmZmVjdE9wdGlvbnMiLCJzcGVlZCIsImNvbG9yIiwiekluZGV4IiwiY2FyZHMiLCJjYXJkc09wdGlvbnMiLCJwZXJzcGVjdGl2ZSIsImZhZGVDb250ZW50IiwiZmFkZUJhY2tncm91bmQiLCJzZWN0aW9uU2VsZWN0b3IiLCJzbGlkZVNlbGVjdG9yIiwibGF6eUxvYWRpbmciLCJvbkxlYXZlIiwiaW5kZXgiLCJkZXN0aW5hdGlvbiIsImRpcmVjdGlvbiIsImlzTGFzdCIsImFmdGVyTG9hZCIsIm5leHRJbmRleCIsImFmdGVyUmVuZGVyIiwiYWZ0ZXJSZXNpemUiLCJoZWlnaHQiLCJhZnRlclJlQnVpbGQiLCJhZnRlclJlc3BvbnNpdmUiLCJpc1Jlc3BvbnNpdmUiLCJhZnRlclNsaWRlTG9hZCIsImFuY2hvckxpbmsiLCJzbGlkZUFuY2hvciIsInNsaWRlSW5kZXgiLCJvblNsaWRlTGVhdmUiLCJzZWN0aW9uIiwib3JpZ2luIiwic2VydmljZVN3aXBlciIsImJyZWFrcG9pbnQiLCJtYXRjaE1lZGlhIiwiYnJlYWtwb2ludENoZWNrZXIiLCJtYXRjaGVzIiwiZW5hYmxlU3dpcGVyIiwidW5kZWZpbmVkIiwiZGVzdHJveSIsImExMXkiLCJzaW11bGF0ZVRvdWNoIiwibmVzdGVkIiwibW91c2V3aGVlbCIsInJlbGVhc2VPbkVkZ2VzIiwiYWRkTGlzdGVuZXIiLCJzbGlkZU5leHQiLCJkaXNhYmxlIiwiZW5hYmxlIiwic2VydmljZUFkdmFudGFnZVN3aXBlciIsInZoIiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiY29uY2F0IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBQUEsYUEySUEsU0FBU0EsYUFBYUMsR0FDcEJBLEVBQUVDLGlCQUNGQyxXQUFXQyxZQUFZLFlBQ3ZCQyxFQUFFLFlBQVlELFlBQVksVUFDMUJDLEVB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LEVBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLmxvYWRlclwiKS5yZW1vdmUoKTtcbiAgICAkKFwiLm1haW5fX2lubmVyXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICB9LCA0NzAwKTtcbn0pOyAvLyBmb3Igc3ZnIHN1cHBvcnRcblxuc3ZnNGV2ZXJ5Ym9keSgpO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAkKFwiLmhlYWRlcl9fbGFuZy1pdGVtXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSkge1xuICAgICAgJChcIi5oZWFkZXJfX2xhbmctaXRlbVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9KTtcbiAgJChcIi5uYXZiYXJfX2xpbmtcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgbWVudUJ0bi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAkKFwiLm1lbnVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgJChcIi5oZWFkZXJfX2lubmVyXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICB9KTtcbiAgJChcIi50ZWNub2xvZ3lfX2Fycm93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoXCJkaXNhYmxlXCIpKSB7XG4gICAgICAkKFwiLnRlY25vbG9neV9fYXJyb3dcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlXCIpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImRpc2FibGVcIik7XG4gICAgICAkKFwiLnRlY2hub2xvZ3lfX2l0ZW1cIikudG9nZ2xlQ2xhc3MoXCJoaWRlXCIpO1xuICAgIH1cbiAgfSk7XG4gIG1lbnVCdG4ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgbWVudUJ0bi50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAkKFwiLm1lbnVcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgJChcIi5oZWFkZXJfX2lubmVyXCIpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIGJ0bkNvbnN1bHQucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAkKFwiLmNvbnN1bHRcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgJChcIi5oZWFkZXJfX2lubmVyXCIpLnJlbW92ZUNsYXNzKFwiY29uc3VsdC1hY3RpdmVcIik7XG4gIH0pO1xuICBnb0J0bkRvd24ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgaW5kZXhGdWxscGFnZS5tb3ZlU2VjdGlvbkRvd24oKTtcbiAgfSk7XG4gIGdvQnRuVG9wLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIGluZGV4RnVsbHBhZ2UubW92ZVRvKDEpO1xuICB9KTtcbiAgYnRuQ29uc3VsdC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYnRuQ29uc3VsdC5hZGRDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICQoXCIuY29uc3VsdFwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAkKFwiLmhlYWRlcl9faW5uZXJcIikuYWRkQ2xhc3MoXCJjb25zdWx0LWFjdGl2ZVwiKTtcbiAgICBtZW51QnRuLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICQoXCIubWVudVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAkKFwiLmhlYWRlcl9faW5uZXJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gIH0pO1xuICAkKFwiLmNvbnN1bHRfX2Nsb3NlIC5idG4tLWdvLWJhY2tcIikuY2xpY2soY29uc3VsdENsb3NlKTtcbiAgJChcIi5idG4tY29uc3VsdC1jbG9zZVwiKS5jbGljayhjb25zdWx0Q2xvc2UpOyAvL3ZhbGlkYXRpb25cblxuICBuYW1lSW5wdXQuYmx1cihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLnZhbCgpID09IFwiXCIpIHtcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJpbnZhbGlkXCIpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcInZhbGlkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwidmFsaWRcIik7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKFwiaW52YWxpZFwiKTtcbiAgICB9XG4gIH0pO1xuICBlbWFpbElucHV0LmJsdXIoZnVuY3Rpb24gKCkge1xuICAgIHZhbGlkYXRlUmVnZXgoJCh0aGlzKSwgL15bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05LV0rKD86XFwuW2EtekEtWjAtOS1dKykqJC8pO1xuICB9KTtcbiAgdGVsSW5wdXQuYmx1cihmdW5jdGlvbiAoKSB7XG4gICAgdmFsaWRhdGVSZWdleCgkKHRoaXMpLCAvXihcXCt7MCx9KShcXGR7MCx9KShbKF17MX1cXGR7MSwzfVspXXswLH0pezAsfShcXHM/XFxkK3xcXCtcXGR7MiwzfVxcc3sxfVxcZCt8XFxkKyl7MX1bXFxzfC1dP1xcZCsoW1xcc3wtXT9cXGQrKXsxLDJ9KFxccyl7MCx9JC9nbSk7XG4gIH0pOyAvL21vdmUgd2l0aCBtb3VzZSB2clxuICAvLyBtYWluSW1nLm1vdXNlbW92ZShmdW5jdGlvbiAoZSkge1xuICAvLyAgIHZhciB4ID0gZS5wYWdlWCAtIHRoaXMub2Zmc2V0TGVmdDtcbiAgLy8gICB2YXIgeSA9IGUucGFnZVkgLSB0aGlzLm9mZnNldFRvcDtcbiAgLy8gICB2YXIgcyA9IHRoaXMuY2xpZW50V2lkdGggLyAyO1xuICAvLyAgIHZhciBzcyA9IHRoaXMuY2xpZW50SGVpZ2h0IC8gMjtcbiAgLy8gICAkKFwiLm1haW5fX2ltZy1pbm5lclwiKS5jc3MoXG4gIC8vICAgICBcInRyYW5zZm9ybVwiLFxuICAvLyAgICAgYHRyYW5zbGF0ZSgke3ggLSBzfXB4LCAke3kgLSBzc31weClgXG4gIC8vICAgKTtcbiAgLy8gfSk7XG4gIC8vIG1haW5JbWcub24oXCJ0b3VjaGVuZCBjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8vICAgJChcIi5tYWluX19pbWctaW5uZXJcIikuY3NzKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoJHswfXB4LCAkezB9cHgpYCk7XG4gIC8vIH0pO1xuICAvLyBtYWluSW1nLm1vdXNlbGVhdmUoZnVuY3Rpb24gKCkge1xuICAvLyAgICQoXCIubWFpbl9faW1nLWlubmVyXCIpLmNzcyhcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7MH1weCwgJHswfXB4KWApO1xuICAvLyB9KTtcbiAgLy8gJChcIi5zbGlkZS1hcnJvdy1wcmV2XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAvLyAgIGZ1bGxwYWdlX2FwaS5tb3ZlU2xpZGVMZWZ0KCk7XG4gIC8vIH0pO1xuICAvLyAkKFwiLnNsaWRlLWFycm93LW5leHRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8vICAgZnVsbHBhZ2VfYXBpLm1vdmVTbGlkZVJpZ2h0KCk7XG4gIC8vIH0pO1xuXG4gICQoXCIudmlkZW8tb3BlbmVyXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoXCIudmlkZW8tcG9wdXBcIikuZmFkZVRvZ2dsZSgpO1xuICB9KTtcbiAgJChcIi52aWRlby1wb3B1cC1jbG9zZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJChcIi52aWRlby1wb3B1cFwiKS5mYWRlVG9nZ2xlKCk7XG4gIH0pO1xuICB6b29tSW1nT3Blbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNlcnRpZmljYXRlSW1nID0gJCh0aGlzKS5maW5kKFwiaW1nXCIpLmF0dHIoXCJzcmNcIik7XG4gICAgem9vbUltZy5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsXCIgKyBcIihcIiArIGNlcnRpZmljYXRlSW1nICsgXCIpXCIpO1xuICAgIHpvb21JbWcuZmFkZUluKCk7XG4gIH0pO1xuICB6b29tSW1nLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICB6b29tSW1nLmZhZGVPdXQoKTtcbiAgfSk7XG4gIGJsb2dCdG5zLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBibG9nQnRucy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgIHZhciBibG9nQnRuID0gJCh0aGlzKS5kYXRhKFwiYmxvZ1wiKTtcblxuICAgIGlmIChibG9nQnRuID09IFwiYWxsXCIpIHtcbiAgICAgIGJsb2dDYXRlZ29yaWVzLnNob3coKTtcbiAgICAgIGJsb2dTd2lwZXIudXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJsb2dDYXRlZ29yaWVzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmxvZ2NhdGVnb3J5ID0gJCh0aGlzKS5kYXRhKFwiYmxvZ2NhdFwiKTtcblxuICAgICAgICBpZiAoYmxvZ2NhdGVnb3J5ICE9IGJsb2dCdG4pIHtcbiAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICBibG9nU3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQodGhpcykuc2hvdygpO1xuICAgICAgICAgIGJsb2dTd2lwZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gICQoXCIuc2VydmljZS1zb2x2ZV9fcXVlc3Rpb25cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDEyMDApIHtcbiAgICAgICQoXCIuc2VydmljZS1zb2x2ZV9faXRlbVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBjb25zdWx0Q2xvc2UoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGJ0bkNvbnN1bHQucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgJChcIi5jb25zdWx0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAkKFwiLmhlYWRlcl9faW5uZXJcIikucmVtb3ZlQ2xhc3MoXCJjb25zdWx0LWFjdGl2ZVwiKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVSZWdleChlbCwgcmVnZXgpIHtcbiAgdmFyIHZhbHVlID0gZWwudmFsKCk7XG5cbiAgaWYgKHJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgZWwucmVtb3ZlQ2xhc3MoXCJpbnZhbGlkXCIpO1xuICAgIGVsLmFkZENsYXNzKFwidmFsaWRcIik7XG4gIH0gZWxzZSB7XG4gICAgZWwucmVtb3ZlQ2xhc3MoXCJ2YWxpZFwiKTtcbiAgICBlbC5hZGRDbGFzcyhcImludmFsaWRcIik7XG4gIH1cbn1cblxudmFyIGVtYWlsSW5wdXQgPSAkKFwiLmVtYWlsXCIpLFxuICAgIG5hbWVJbnB1dCA9ICQoXCIubmFtZVwiKSxcbiAgICB0ZWxJbnB1dCA9ICQoXCIudGVsXCIpO1xudmFyIG1lbnVCdG4gPSAkKFwiLmhlYWRlcl9fbWVudVwiKSxcbiAgICBnb0J0bkRvd24gPSAkKFwiLmdvLWJ0bi1kb3duXCIpLFxuICAgIGdvQnRuVG9wID0gJChcIi5nby1idG4tdG9wXCIpLFxuICAgIGJ0bkNvbnN1bHQgPSAkKFwiLmJ0bi0tY29uc3VsdFwiKTsgLy8gdmFyIG1haW5JbWcgPSAkKFwiLm1haW5fX2ltZ1wiKTtcblxudmFyIHpvb21JbWcgPSAkKFwiLnpvb20taW1nXCIpLFxuICAgIHpvb21JbWdPcGVuID0gJChcIi56b29tLWltZy1vcGVuXCIpO1xudmFyIGJsb2dCdG5zID0gJChcIltkYXRhLWJsb2ddXCIpLFxuICAgIGJsb2dDYXRlZ29yaWVzID0gJChcIltkYXRhLWJsb2djYXRdXCIpOyAvL3N3aXBlcnNcblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9ydGZvbGlvLXN3aXBlclwiKSkge1xuICB2YXIgcG9ydGZvbGlvU3dpcGVyID0gbmV3IFN3aXBlcihcIi5wb3J0Zm9saW8tc3dpcGVyXCIsIHtcbiAgICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgICBwYXJhbGxheDogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLnNsaWRlLWFycm93LW5leHRcIixcbiAgICAgIHByZXZFbDogXCIuc2xpZGUtYXJyb3ctcHJldlwiXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIuY291bnRlci1zbGlkZVwiLFxuICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgIHJlbmRlckN1c3RvbTogZnVuY3Rpb24gcmVuZGVyQ3VzdG9tKHN3aXBlciwgY3VycmVudCwgdG90YWwpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiY291bnRlci1hY3RpdmUtc2xpZGVcIj4nICsgKFwiMFwiICsgY3VycmVudCkuc2xpY2UoLTIpICsgXCI8L2Rpdj5cIiArICc8ZGl2IGNsYXNzPVwiY291bnRlci10b3RhbC1zbGlkZVwiPicgKyBcIi9cIiArIChcIjBcIiArIHRvdGFsKS5zbGljZSgtMikgKyBcIjwvZGl2PlwiO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNlcnRpZmljYXRlcy1zd2lwZXJcIikpIHtcbiAgdmFyIGNlcnRpZmljYXRlc1N3aXBlciA9IG5ldyBTd2lwZXIoXCIuY2VydGlmaWNhdGVzLXN3aXBlclwiLCB7XG4gICAgcmVzaXplT2JzZXJ2ZXI6IHRydWUsXG4gICAgcHJlbG9hZEltYWdlczogZmFsc2UsXG4gICAgbGF6eTogdHJ1ZSxcbiAgICBvYnNlcnZlUGFyZW50czogdHJ1ZSxcbiAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogdHJ1ZSxcbiAgICBvYnNlcnZlcjogdHJ1ZSxcbiAgICAvLyBpbml0aWFsU2xpZGU6IDIsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgNzY3OiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzBcbiAgICAgIH0sXG4gICAgICAxMDAwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNDBcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuc2xpZGUtYXJyb3ctbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5zbGlkZS1hcnJvdy1wcmV2XCJcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5jb3VudGVyLXNsaWRlXCIsXG4gICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgcmVuZGVyQ3VzdG9tOiBmdW5jdGlvbiByZW5kZXJDdXN0b20oc3dpcGVyLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJjb3VudGVyLWFjdGl2ZS1zbGlkZVwiPicgKyAoXCIwXCIgKyBjdXJyZW50KS5zbGljZSgtMikgKyBcIjwvZGl2PlwiICsgJzxkaXYgY2xhc3M9XCJjb3VudGVyLXRvdGFsLXNsaWRlXCI+JyArIFwiL1wiICsgKFwiMFwiICsgdG90YWwpLnNsaWNlKC0yKSArIFwiPC9kaXY+XCI7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVhbS1zd2lwZXJcIikpIHtcbiAgdmFyIHRlYW1Td2lwZXIgPSBuZXcgU3dpcGVyKFwiLnRlYW0tc3dpcGVyXCIsIHtcbiAgICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgICBzcGFjZUJldHdlZW46IDUwLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgIC8vc2xpZGVzUGVyVmlldzogMyxcbiAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICBsb29wOiB0cnVlLFxuICAgIC8vIGNlbnRlckluc3VmZmljaWVudFNsaWRlc1xuICAgIC8vIHBhcmFsbGF4OiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuc2xpZGUtYXJyb3ctbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5zbGlkZS1hcnJvdy1wcmV2XCJcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5jb3VudGVyLXNsaWRlXCIsXG4gICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgcmVuZGVyQ3VzdG9tOiBmdW5jdGlvbiByZW5kZXJDdXN0b20oc3dpcGVyLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJjb3VudGVyLWFjdGl2ZS1zbGlkZVwiPicgKyAoXCIwXCIgKyBjdXJyZW50KS5zbGljZSgtMikgKyBcIjwvZGl2PlwiICsgJzxkaXYgY2xhc3M9XCJjb3VudGVyLXRvdGFsLXNsaWRlXCI+JyArIFwiL1wiICsgKFwiMFwiICsgdG90YWwpLnNsaWNlKC0yKSArIFwiPC9kaXY+XCI7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3cy1zd2lwZXJcIikpIHtcbiAgdmFyIHJldmlld3NTd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnJldmlld3Mtc3dpcGVyXCIsIHtcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIGxvb3A6IHRydWUsXG4gICAgLy8gY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDc2Nzoge1xuICAgICAgICAvLyBwYXJhbGxheDogdHJ1ZSxcbiAgICAgICAgLy8gY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiB0cnVlLFxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxIC8vIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuXG4gICAgICB9LFxuICAgICAgMTIwMDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIiAvL3NwYWNlQmV0d2VlbjogNDAsXG5cbiAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuc2xpZGUtYXJyb3ctbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5zbGlkZS1hcnJvdy1wcmV2XCJcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5jb3VudGVyLXNsaWRlXCIsXG4gICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgcmVuZGVyQ3VzdG9tOiBmdW5jdGlvbiByZW5kZXJDdXN0b20oc3dpcGVyLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJjb3VudGVyLWFjdGl2ZS1zbGlkZVwiPicgKyAoXCIwXCIgKyBjdXJyZW50KS5zbGljZSgtMikgKyBcIjwvZGl2PlwiICsgJzxkaXYgY2xhc3M9XCJjb3VudGVyLXRvdGFsLXNsaWRlXCI+JyArIFwiL1wiICsgKFwiMFwiICsgdG90YWwpLnNsaWNlKC0yKSArIFwiPC9kaXY+XCI7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvZy1zd2lwZXJcIikpIHtcbiAgdmFyIGJsb2dTd2lwZXIgPSBuZXcgU3dpcGVyKFwiLmJsb2ctc3dpcGVyXCIsIHtcbiAgICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNsaWRlc1BlckNvbHVtbjogMyxcbiAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICBzbGlkZXNQZXJDb2x1bW5GaWxsOiBcInJvd1wiLFxuICAgIG9ic2VydmVyOiB0cnVlLFxuICAgIG9ic2VydmVQYXJlbnRzOiB0cnVlLFxuICAgIG9ic2VydmVTbGlkZUNoaWxkcmVuOiB0cnVlLFxuICAgIHNsaWRlc1Blckdyb3VwU2tpcDogMSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgNzY3OiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgIHNsaWRlc1BlckNvbHVtbkZpbGw6IFwiY29sdW1uXCIsXG4gICAgICAgIHNsaWRlc1BlckNvbHVtbjogMVxuICAgICAgfSxcbiAgICAgIDEyMDA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMy41LFxuICAgICAgICBzbGlkZXNQZXJDb2x1bW5GaWxsOiBcImNvbHVtblwiLFxuICAgICAgICBzbGlkZXNQZXJDb2x1bW46IDFcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuc2xpZGUtYXJyb3ctbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5zbGlkZS1hcnJvdy1wcmV2XCJcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5jb3VudGVyLXNsaWRlXCIsXG4gICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgcmVuZGVyQ3VzdG9tOiBmdW5jdGlvbiByZW5kZXJDdXN0b20oc3dpcGVyLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJjb3VudGVyLWFjdGl2ZS1zbGlkZVwiPicgKyAoXCIwXCIgKyBjdXJyZW50KS5zbGljZSgtMikgKyBcIjwvZGl2PlwiICsgJzxkaXYgY2xhc3M9XCJjb3VudGVyLXRvdGFsLXNsaWRlXCI+JyArIFwiL1wiICsgKFwiMFwiICsgdG90YWwpLnNsaWNlKC0yKSArIFwiPC9kaXY+XCI7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvZ19fY2F0ZWdvcnlcIikpIHtcbiAgdmFyIGJsb2dCdG5Td2lwZXIgPSBuZXcgU3dpcGVyKFwiLmJsb2dfX2NhdGVnb3J5XCIsIHtcbiAgICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICBzcGFjZUJldHdlZW46IDgsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDc2Nzoge1xuICAgICAgICBzcGFjZUJldHdlZW46IDE2XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0gLy9mdWxwYWdlc1xuXG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlY3Rpb25zXCIpKSB7XG4gIHZhciBpbmRleEZ1bGxwYWdlID0gbmV3IGZ1bGxwYWdlKFwiI3NlY3Rpb25zXCIsIHtcbiAgICBsaWNlbnNlS2V5OiBcIkY4RTk3NzFCLUNGMjI0NzIwLUE4Qzg1OEM1LURFMjEwNkExXCIsXG4gICAgLy9OYXZpZ2F0aW9uXG4gICAgbWVudTogXCIjYXNpZGVOYXYsIC5uYXZiYXJfX2xpc3RcIixcbiAgICBsb2NrQW5jaG9yczogZmFsc2UsXG4gICAgYW5jaG9yczogW1wibWFpblwiLCBcInRlY2hub2xvZ3lcIiwgXCJzZXJ2aWNlc1wiLCBcInBvcnRmb2xpb1wiLCBcImFib3V0XCIsIFwiY2VydGlmaWNhdGVzXCIsIFwidGVhbVwiLCBcInJldmlld3NcIiwgXCJibG9nXCIsIFwiY29udGFjdHNcIl0sXG4gICAgbmF2aWdhdGlvbjogZmFsc2UsXG4gICAgbmF2aWdhdGlvblBvc2l0aW9uOiBcInJpZ2h0XCIsXG4gICAgbmF2aWdhdGlvblRvb2x0aXBzOiBbXCJtYWluXCIsIFwidGVjaG5vbG9neVwiLCBcInNlcnZpY2VzXCIsIFwicG9ydGZvbGlvXCIsIFwiYWJvdXRcIiwgXCJjZXJ0aWZpY2F0ZXNcIiwgXCJ0ZWFtXCIsIFwicmV2aWV3c1wiLCBcImJsb2dcIiwgXCJjb250YWN0c1wiXSxcbiAgICBzaG93QWN0aXZlVG9vbHRpcDogZmFsc2UsXG4gICAgc2xpZGVzTmF2aWdhdGlvbjogZmFsc2UsXG4gICAgc2xpZGVzTmF2UG9zaXRpb246IFwiYm90dG9tXCIsXG4gICAgLy9TY3JvbGxpbmdcbiAgICBjc3MzOiB0cnVlLFxuICAgIHNjcm9sbGluZ1NwZWVkOiA3MDAsXG4gICAgYXV0b1Njcm9sbGluZzogdHJ1ZSxcbiAgICBmaXRUb1NlY3Rpb246IHRydWUsXG4gICAgZml0VG9TZWN0aW9uRGVsYXk6IDEwMDAsXG4gICAgc2Nyb2xsQmFyOiBmYWxzZSxcbiAgICBlYXNpbmc6IFwiZWFzZUluT3V0Q3ViaWNcIixcbiAgICBlYXNpbmdjc3MzOiBcImVhc2VcIixcbiAgICBsb29wQm90dG9tOiBmYWxzZSxcbiAgICBsb29wVG9wOiBmYWxzZSxcbiAgICBsb29wSG9yaXpvbnRhbDogdHJ1ZSxcbiAgICBjb250aW51b3VzVmVydGljYWw6IGZhbHNlLFxuICAgIGNvbnRpbnVvdXNIb3Jpem9udGFsOiBmYWxzZSxcbiAgICBzY3JvbGxIb3Jpem9udGFsbHk6IGZhbHNlLFxuICAgIGludGVybG9ja2VkU2xpZGVzOiBmYWxzZSxcbiAgICBkcmFnQW5kTW92ZTogZmFsc2UsXG4gICAgb2Zmc2V0U2VjdGlvbnM6IGZhbHNlLFxuICAgIHJlc2V0U2xpZGVyczogZmFsc2UsXG4gICAgZmFkaW5nRWZmZWN0OiBmYWxzZSxcbiAgICBub3JtYWxTY3JvbGxFbGVtZW50czogXCIudW5zY3JvbGwsIC5mb3JtLWxhYmVsXCIsXG4gICAgc2Nyb2xsT3ZlcmZsb3c6IHRydWUsXG4gICAgc2Nyb2xsT3ZlcmZsb3dSZXNldDogdHJ1ZSxcbiAgICBzY3JvbGxPdmVyZmxvd09wdGlvbnM6IHtcbiAgICAgIGNsaWNrOiB0cnVlXG4gICAgfSxcbiAgICB0b3VjaFNlbnNpdGl2aXR5OiAxNSxcbiAgICBiaWdTZWN0aW9uc0Rlc3RpbmF0aW9uOiBudWxsLFxuICAgIC8vQWNjZXNzaWJpbGl0eVxuICAgIGtleWJvYXJkU2Nyb2xsaW5nOiB0cnVlLFxuICAgIGFuaW1hdGVBbmNob3I6IHRydWUsXG4gICAgcmVjb3JkSGlzdG9yeTogdHJ1ZSxcbiAgICAvL0Rlc2lnblxuICAgIGNvbnRyb2xBcnJvd3M6IGZhbHNlLFxuICAgIHZlcnRpY2FsQ2VudGVyZWQ6IHRydWUsXG4gICAgLy9zZWN0aW9uc0NvbG9yIDogWycjY2NjJywgJyNjY2MnLCcjY2NjJywgJyNjY2MnLCcjY2NjJywgJyNjY2MnLCcjY2NjJywgJyNjY2MnLCcjY2NjJywgJyNjY2MnXSxcbiAgICAvL1x0cGFkZGluZ1RvcDogJzNlbScsXG4gICAgLy9cdHBhZGRpbmdCb3R0b206ICcxMHB4JyxcbiAgICAvL2ZpeGVkRWxlbWVudHM6ICcuaGVhZGVyLCAuZm9vdGVyJyxcbiAgICByZXNwb25zaXZlV2lkdGg6IDAsXG4gICAgcmVzcG9uc2l2ZUhlaWdodDogMCxcbiAgICByZXNwb25zaXZlU2xpZGVzOiBmYWxzZSxcbiAgICBwYXJhbGxheDogZmFsc2UsXG4gICAgcGFyYWxsYXhPcHRpb25zOiB7XG4gICAgICB0eXBlOiBcInJldmVhbFwiLFxuICAgICAgcGVyY2VudGFnZTogNjIsXG4gICAgICBwcm9wZXJ0eTogXCJ0cmFuc2xhdGVcIlxuICAgIH0sXG4gICAgZHJvcEVmZmVjdDogZmFsc2UsXG4gICAgZHJvcEVmZmVjdE9wdGlvbnM6IHtcbiAgICAgIHNwZWVkOiAyMzAwLFxuICAgICAgY29sb3I6IFwiI0Y4MkY0RFwiLFxuICAgICAgekluZGV4OiA5OTkwXG4gICAgfSxcbiAgICBjYXJkczogZmFsc2UsXG4gICAgY2FyZHNPcHRpb25zOiB7XG4gICAgICBwZXJzcGVjdGl2ZTogMTAwLFxuICAgICAgZmFkZUNvbnRlbnQ6IHRydWUsXG4gICAgICBmYWRlQmFja2dyb3VuZDogdHJ1ZVxuICAgIH0sXG4gICAgLy9DdXN0b20gc2VsZWN0b3JzXG4gICAgc2VjdGlvblNlbGVjdG9yOiBcIi5zZWN0aW9uXCIsXG4gICAgc2xpZGVTZWxlY3RvcjogXCIuc2xpZGVcIixcbiAgICBsYXp5TG9hZGluZzogdHJ1ZSxcbiAgICAvL2V2ZW50c1xuICAgIG9uTGVhdmU6IGZ1bmN0aW9uIG9uTGVhdmUoaW5kZXgsIGRlc3RpbmF0aW9uLCBkaXJlY3Rpb24pIHtcbiAgICAgIGlmIChkZXN0aW5hdGlvbi5pc0xhc3QpIHtcbiAgICAgICAgZ29CdG5Eb3duLmhpZGUoKTtcbiAgICAgICAgZ29CdG5Ub3AuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnb0J0bkRvd24uc2hvdygpO1xuICAgICAgICBnb0J0blRvcC5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIH0gLy8gdmFyIHNlY3Rpb24gPSAkKFwiLnNlY3Rpb24uYWN0aXZlXCIpLFxuICAgICAgLy8gICBjb3VudGVyQWN0aXZlID0gc2VjdGlvblxuICAgICAgLy8gICAgIC5maW5kKFwiLmNvdW50ZXItc2xpZGVcIilcbiAgICAgIC8vICAgICAuZmluZChcIi5jb3VudGVyLWFjdGl2ZS1zbGlkZVwiKSxcbiAgICAgIC8vICAgY291bnRlckxhc3QgPSBzZWN0aW9uLmZpbmQoXCIuY291bnRlci1zbGlkZVwiKS5maW5kKFwiLmNvdW50ZXItdG90YWwtc2xpZGVcIiksXG4gICAgICAvLyAgIGxhc3RTbGlkZSA9IHNlY3Rpb24uZmluZChcIi5zbGlkZS5mcC1zbGlkZVwiKS5sYXN0KCkuYXR0cihcImRhdGEtYW5jaG9yXCIpLFxuICAgICAgLy8gICBhY3RpdmVTbGlkZSA9IHNlY3Rpb24uZmluZChcIi5zbGlkZS5mcC1zbGlkZS5hY3RpdmVcIikuYXR0cihcImRhdGEtYW5jaG9yXCIpO1xuICAgICAgLy8gY291bnRlckFjdGl2ZS5odG1sKGFjdGl2ZVNsaWRlKTtcbiAgICAgIC8vIGNvdW50ZXJMYXN0Lmh0bWwoXCIvXCIgKyBsYXN0U2xpZGUpO1xuXG4gICAgfSxcbiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uIGFmdGVyTG9hZChpbmRleCwgbmV4dEluZGV4LCBkaXJlY3Rpb24pIHsvLyB2YXIgc2VjdGlvbiA9ICQoXCIuc2VjdGlvbi5hY3RpdmVcIiksXG4gICAgICAvLyAgIGNvdW50ZXJBY3RpdmUgPSBzZWN0aW9uXG4gICAgICAvLyAgICAgLmZpbmQoXCIuY291bnRlci1zbGlkZVwiKVxuICAgICAgLy8gICAgIC5maW5kKFwiLmNvdW50ZXItYWN0aXZlLXNsaWRlXCIpLFxuICAgICAgLy8gICBjb3VudGVyTGFzdCA9IHNlY3Rpb24uZmluZChcIi5jb3VudGVyLXNsaWRlXCIpLmZpbmQoXCIuY291bnRlci10b3RhbC1zbGlkZVwiKSxcbiAgICAgIC8vICAgbGFzdFNsaWRlID0gc2VjdGlvbi5maW5kKFwiLnNsaWRlLmZwLXNsaWRlXCIpLmxhc3QoKS5hdHRyKFwiZGF0YS1hbmNob3JcIiksXG4gICAgICAvLyAgIGFjdGl2ZVNsaWRlID0gc2VjdGlvbi5maW5kKFwiLnNsaWRlLmZwLXNsaWRlLmFjdGl2ZVwiKS5hdHRyKFwiZGF0YS1hbmNob3JcIik7XG4gICAgICAvLyBjb3VudGVyQWN0aXZlLmh0bWwoYWN0aXZlU2xpZGUpO1xuICAgICAgLy8gY291bnRlckxhc3QuaHRtbChcIi9cIiArIGxhc3RTbGlkZSk7XG4gICAgfSxcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24gYWZ0ZXJSZW5kZXIoKSB7fSxcbiAgICBhZnRlclJlc2l6ZTogZnVuY3Rpb24gYWZ0ZXJSZXNpemUod2lkdGgsIGhlaWdodCkge30sXG4gICAgYWZ0ZXJSZUJ1aWxkOiBmdW5jdGlvbiBhZnRlclJlQnVpbGQoKSB7fSxcbiAgICBhZnRlclJlc3BvbnNpdmU6IGZ1bmN0aW9uIGFmdGVyUmVzcG9uc2l2ZShpc1Jlc3BvbnNpdmUpIHt9LFxuICAgIGFmdGVyU2xpZGVMb2FkOiBmdW5jdGlvbiBhZnRlclNsaWRlTG9hZChhbmNob3JMaW5rLCBpbmRleCwgc2xpZGVBbmNob3IsIHNsaWRlSW5kZXgpIHsvLyB2YXIgc2VjdGlvbiA9ICQoXCIuc2VjdGlvbi5hY3RpdmVcIiksXG4gICAgICAvLyAgIGNvdW50ZXJBY3RpdmUgPSBzZWN0aW9uXG4gICAgICAvLyAgICAgLmZpbmQoXCIuY291bnRlci1zbGlkZVwiKVxuICAgICAgLy8gICAgIC5maW5kKFwiLmNvdW50ZXItYWN0aXZlLXNsaWRlXCIpLFxuICAgICAgLy8gICBjb3VudGVyTGFzdCA9IHNlY3Rpb24uZmluZChcIi5jb3VudGVyLXNsaWRlXCIpLmZpbmQoXCIuY291bnRlci10b3RhbC1zbGlkZVwiKSxcbiAgICAgIC8vICAgbGFzdFNsaWRlID0gc2VjdGlvbi5maW5kKFwiLnNsaWRlLmZwLXNsaWRlXCIpLmxhc3QoKS5hdHRyKFwiZGF0YS1hbmNob3JcIiksXG4gICAgICAvLyAgIGFjdGl2ZVNsaWRlID0gc2VjdGlvbi5maW5kKFwiLnNsaWRlLmZwLXNsaWRlLmFjdGl2ZVwiKS5hdHRyKFwiZGF0YS1hbmNob3JcIik7XG4gICAgICAvLyBjb3VudGVyQWN0aXZlLmh0bWwoYWN0aXZlU2xpZGUpO1xuICAgICAgLy8gY291bnRlckxhc3QuaHRtbChcIi9cIiArIGxhc3RTbGlkZSk7XG4gICAgfSxcbiAgICBvblNsaWRlTGVhdmU6IGZ1bmN0aW9uIG9uU2xpZGVMZWF2ZShzZWN0aW9uLCBvcmlnaW4sIGRlc3RpbmF0aW9uLCBkaXJlY3Rpb24pIHsvLyB2YXIgc2VjdGlvbiA9ICQoXCIuc2VjdGlvbi5hY3RpdmVcIiksXG4gICAgICAvLyAgIGNvdW50ZXJBY3RpdmUgPSBzZWN0aW9uXG4gICAgICAvLyAgICAgLmZpbmQoXCIuY291bnRlci1zbGlkZVwiKVxuICAgICAgLy8gICAgIC5maW5kKFwiLmNvdW50ZXItYWN0aXZlLXNsaWRlXCIpLFxuICAgICAgLy8gICBjb3VudGVyTGFzdCA9IHNlY3Rpb24uZmluZChcIi5jb3VudGVyLXNsaWRlXCIpLmZpbmQoXCIuY291bnRlci10b3RhbC1zbGlkZVwiKSxcbiAgICAgIC8vICAgbGFzdFNsaWRlID0gc2VjdGlvbi5maW5kKFwiLnNsaWRlLmZwLXNsaWRlXCIpLmxhc3QoKS5hdHRyKFwiZGF0YS1hbmNob3JcIiksXG4gICAgICAvLyAgIGFjdGl2ZVNsaWRlID0gb3JpZ2luLmFuY2hvcjtcbiAgICAgIC8vIGNvdW50ZXJBY3RpdmUuaHRtbChhY3RpdmVTbGlkZSk7XG4gICAgICAvLyBjb3VudGVyTGFzdC5odG1sKFwiL1wiICsgbGFzdFNsaWRlKTtcbiAgICB9XG4gIH0pO1xufSAvL3NlcnZpY2UgcGFnZSBzd2lwZXJzXG5cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZnVsbC1pbm5lci1wYWdlXCIpKSB7XG4gIHZhciBicmVha3BvaW50ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOjc2N3B4KVwiKTsgLy8ga2VlcCB0cmFjayBvZiBzd2lwZXIgaW5zdGFuY2VzIHRvIGRlc3Ryb3kgbGF0ZXJcblxuICB2YXIgc2VydmljZVN3aXBlcjtcblxuICB2YXIgYnJlYWtwb2ludENoZWNrZXIgPSBmdW5jdGlvbiBicmVha3BvaW50Q2hlY2tlcigpIHtcbiAgICAvLyBpZiBsYXJnZXIgdmlld3BvcnQgYW5kIG11bHRpLXJvdyBsYXlvdXQgbmVlZGVkXG4gICAgaWYgKGJyZWFrcG9pbnQubWF0Y2hlcyA9PT0gdHJ1ZSkge1xuICAgICAgLy8gY2xlYW4gdXAgb2xkIGluc3RhbmNlcyBhbmQgaW5saW5lIHN0eWxlcyB3aGVuIGF2YWlsYWJsZVxuICAgICAgaWYgKHNlcnZpY2VTd2lwZXIgIT09IHVuZGVmaW5lZCkgc2VydmljZVN3aXBlci5kZXN0cm95KHRydWUsIHRydWUpOyAvLyBvci9hbmQgZG8gbm90aGluZ1xuXG4gICAgICByZXR1cm47IC8vIGVsc2UgaWYgYSBzbWFsbCB2aWV3cG9ydCBhbmQgc2luZ2xlIGNvbHVtbiBsYXlvdXQgbmVlZGVkXG4gICAgfSBlbHNlIGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXJlIHNtYWxsIHZpZXdwb3J0IHZlcnNpb24gb2Ygc3dpcGVyXG4gICAgICByZXR1cm4gZW5hYmxlU3dpcGVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBlbmFibGVTd2lwZXIgPSBmdW5jdGlvbiBlbmFibGVTd2lwZXIoKSB7XG4gICAgc2VydmljZVN3aXBlciA9IG5ldyBTd2lwZXIoXCIuc2VydmljZS1jb250YWluZXJcIiwge1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIGExMXk6IHRydWUsXG4gICAgICAvLyBrZXlib2FyZENvbnRyb2w6IHRydWUsXG4gICAgICAvLyBtb3VzZXdoZWVsOiB0cnVlLFxuICAgICAgc2ltdWxhdGVUb3VjaDogZmFsc2UsXG4gICAgICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgICAgIG5lc3RlZDogdHJ1ZSxcbiAgICAgIG1vdXNld2hlZWw6IHtcbiAgICAgICAgcmVsZWFzZU9uRWRnZXM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogXCIuc3dpcGVyLXNsaWRlX19hcnJvdy1uZXh0XCIsXG4gICAgICAgIHByZXZFbDogXCIuc3dpcGVyLXNsaWRlX19hcnJvdy1wcmV2XCJcbiAgICAgIH1cbiAgICB9KTtcbiAgfTsgLy8ga2VlcCBhbiBleWUgb24gdmlld3BvcnQgc2l6ZSBjaGFuZ2VzXG5cblxuICBicmVha3BvaW50LmFkZExpc3RlbmVyKGJyZWFrcG9pbnRDaGVja2VyKTsgLy8ga2lja3N0YXJ0XG5cbiAgYnJlYWtwb2ludENoZWNrZXIoKTtcbiAgJChcIi5nby1uZXh0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBzZXJ2aWNlU3dpcGVyLnNsaWRlTmV4dCgpO1xuICB9KTsgLy8gJChcIi5nby1iYWNrLXN3aXBlciAuYnRuXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gIC8vICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyAgIHNlcnZpY2VTd2lwZXIuc2xpZGVQcmV2KCk7XG4gIC8vIH0pO1xuXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA3NjcpIHtcbiAgICAkKFwiLnBvcnRmb2xpby1nYWxsZXJ5X19jb250YWluZXJcIikub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlcnZpY2VTd2lwZXIubW91c2V3aGVlbC5kaXNhYmxlKCk7XG4gICAgfSk7XG4gICAgJChcIi5wb3J0Zm9saW8tZ2FsbGVyeV9fY29udGFpbmVyXCIpLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXJ2aWNlU3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZS1hZHZhbnRhZ2UtbW9iXCIpKSB7XG4gIHZhciBzZXJ2aWNlQWR2YW50YWdlU3dpcGVyID0gbmV3IFN3aXBlcihcIi5zZXJ2aWNlLWFkdmFudGFnZS1tb2JcIiwge1xuICAgIHJlc2l6ZU9ic2VydmVyOiB0cnVlLFxuICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgc3BhY2VCZXR3ZWVuOiAxMyxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLnNsaWRlLWFycm93LW5leHRcIixcbiAgICAgIHByZXZFbDogXCIuc2xpZGUtYXJyb3ctcHJldlwiXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIuY291bnRlci1zbGlkZVwiLFxuICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgIHJlbmRlckN1c3RvbTogZnVuY3Rpb24gcmVuZGVyQ3VzdG9tKHN3aXBlciwgY3VycmVudCwgdG90YWwpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiY291bnRlci1hY3RpdmUtc2xpZGVcIj4nICsgKFwiMFwiICsgY3VycmVudCkuc2xpY2UoLTIpICsgXCI8L2Rpdj5cIiArICc8ZGl2IGNsYXNzPVwiY291bnRlci10b3RhbC1zbGlkZVwiPicgKyBcIi9cIiArIChcIjBcIiArIHRvdGFsKS5zbGljZSgtMikgKyBcIjwvZGl2PlwiO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbnZhciB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLXZoXCIsIFwiXCIuY29uY2F0KHZoLCBcInB4XCIpKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4wMTtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS12aFwiLCBcIlwiLmNvbmNhdCh2aCwgXCJweFwiKSk7XG59KTsiXX0=
